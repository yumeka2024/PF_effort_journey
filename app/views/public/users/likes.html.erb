<style>
  .tab-btn {
      display: flex;
      flex-wrap: wrap;
      max-width: 100%;
  }

  .tab-btn > label {
      flex: 1 1;
      order: -1;
      min-width: 70px;
      padding: .7em 1em .5em;
      background-color: #ffffff;
      color: #999;
      font-weight: 600;
      font-size: .9em;
      text-align: center;
      cursor: pointer;
  }

  .tab-btn > label:hover {
      opacity: .8;
  }

  .tab-btn > div {
      width: 100%;
      padding: 1em 1em;
      background-color: #fff;
  }

  .tab-btn .checked {
      border-bottom: 4px solid #ff8000;
      color: #ff8000;
  }
</style>

<!--app/views/public/users/show.html.erb-->
<div class='container'>
  <div class='row'>
    <div class='col-3 border py-5'>
      <%= render 'public/users/info', { user: @user, user_identifier: @user, approved_followers: @approved_followers, approved_following: @approved_following } %>
    </div>
    <div class='col-6 border py-5'>
    <% if @user == current_user || @user.private == false || current_user.approved_following?(@user) %>
      <div class="tab-btn">
        <label><%= link_to "投稿", user_path(@user), class: 'text-muted link-underline link-underline-opacity-0 d-block' %></label>

        <label class="checked">いいね</label>
        <% if @posts.present? %>
          <div class="mx-auto"><%= render 'public/posts/list', posts: @posts %></div>
        <% else %>
          <div class="mx-auto"><h5 class="text-dark bg-light py-4 mb-0 text-center">いいねはありません</h5></div>
        <% end %>
      </div>
    <% else %>
      <h5 class="text-dark bg-light py-4 mb-0 text-center">非公開アカウントです</h5>
    <% end %>
    </div>
    <div class='col-3 border py-5'>
      <%= render 'public/searches/form' %>
      <div id="search_results">
        <% if @search_results.present? %>
          <%= render 'public/searches/result' %>
        <% end %>
      </div>
    </div>
  </div>
</div>
